
<!DOCTYPE html>
<html id="html">
<head>
<meta name="viewport" content="width=1200">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="Pragma" content="No-cache" />
<meta http-equiv="Cache-Control" content="no-cache, must-revalidate" />
<meta http-equiv="Expires" content="-1" />
<link rel=stylesheet type="text/css" href="css/jquery.selectbox.css" media="all" />
<link href="css/stylish-select.css" type="text/css" rel="stylesheet" />
<link href="css/style_page.css" type="text/css" rel="stylesheet" />
<title></title>
<script type="text/javascript" charset="utf-8" src="js/localization/zh-cn.js"></script>
<script type="text/javascript" charset="utf-8" src="js/header.js"></script>
<script type="text/javascript" charset="utf-8" src="js/jquery-1.8.2.min.js"></script>
<script type="text/javascript" charset="utf-8" src="js/jquery.selectbox-0.2_new.js"></script>
<script type="text/javascript" charset="utf-8" src="js/SOAP/SOAPAction.js"></script>
<script type="text/javascript" charset="utf-8" src="js/SOAP/SOAPGuestwireless.js"></script>
<script type="text/javascript" charset="utf-8" src="js/verify/verify.js"></script>
<script type="text/javascript" charset="utf-8" src="js/initialJS.js"></script>
<script type="text/javascript" charset="utf-8" src="js/AES.js"></script>

<script type="text/javascript">
//xframeoption
if(top!=self){top.location=self.location;}


//var HNAP = new HNAP_XML();
var isGuestEnableSelect=true;//选择访客网络状态
//var isBwLimitSelect=false;//选择限制带宽
var Master_Wifi2G_SSID="";//主wifi 2.4G ssid
var Master_Wifi5G_SSID="";//主wifi 5G ssid
function Load_HTML()	
{	
	$("#select_protype").selectbox();
}
//智能双频未做
function GetXML()	
{
    /*var getLocalAccess = GetLocalAccessSettings();*/
    var getMsg24G = GetWLanRadio24gSettings();
    var getMsgGuest24G = GetWLanRadio24gGuestSettings();
    var getSecurityGuest24G = GetWLanRadio24gSecuritySettings();

    var getMsg5G = GetWLanRadio5gSettings();
    var getMsgGuest5G = GetWLanRadio5gGuestSettings();
    var getSecurityGuest5G = GetWLanRadio5gSecuritySettings();

    $.when(/*getLocalAccess,*/getMsg24G,getMsgGuest24G,getSecurityGuest24G,getMsg5G,getMsgGuest5G,getSecurityGuest5G).done(function(/*getLocalAccess,*/getMsg24G,getMsgGuest24G,getSecurityGuest24G,getMsg5G,getMsgGuest5G,getSecurityGuest5G){
        GetResult(/*getLocalAccess,*/getMsg24G,getMsgGuest24G,getSecurityGuest24G,getMsg5G,getMsgGuest5G,getSecurityGuest5G);
    });
}

function GetLocalAccessSettings(){
    var dtd = $.Deferred();
    var soapAction = new SOAPAction();
    var getLocalAccessResponse = new SOAPGetLocalAccessSettingsResponse();
    soapAction.sendSOAPAction("GetGuestWLanSettings",null,getLocalAccessResponse).done(function(obj){
        dtd.resolve(obj);
    }).fail(function(){
        dtd.reject();
    });
    return dtd.promise();
}

function GetWLanRadio24gGuestSettings(){
    var dtd = $.Deferred();
    var soapAction = new SOAPAction();
    var settings = new Object();
    settings.RadioID = "RADIO_2.4GHz_Guest";
    var getWLanRadio24gGuestResponse = new SOAPGetWLanRadioSettingsResponse();
    soapAction.sendSOAPAction("GetWLanRadioSettings",settings,getWLanRadio24gGuestResponse).done(function(obj){
        dtd.resolve(obj);
    }).fail(function(){
        dtd.reject();
    });
    return dtd.promise();
}

function GetWLanRadio24gSettings(){
    var dtd = $.Deferred();
    var soapAction = new SOAPAction();
    var settings = new Object();
    settings.RadioID = "RADIO_2.4GHz";
    var getWLanRadio24gResponse = new SOAPGetWLanRadioSettingsResponse();
    soapAction.sendSOAPAction("GetWLanRadioSettings",settings,getWLanRadio24gResponse).done(function(obj){
        dtd.resolve(obj);
    }).fail(function(){
        dtd.reject();
    });
    return dtd.promise();
}

function GetWLanRadio24gSecuritySettings(){
    var dtd = $.Deferred();
    var soapAction = new SOAPAction();
    var settings = new Object();
    settings.RadioID = "RADIO_2.4GHz_Guest";
    var getWLanRadio24gSecurityResponse = new SOAPGetWLanRadioSecurityResponse();
    soapAction.sendSOAPAction("GetWLanRadioSecurity",settings,getWLanRadio24gSecurityResponse).done(function(obj){
        dtd.resolve(obj);
    }).fail(function(){
        dtd.reject();
    });
    return dtd.promise();
}

function GetWLanRadio5gGuestSettings(){
    var dtd = $.Deferred();
    var soapAction = new SOAPAction();
    var settings = new Object();
    settings.RadioID = "RADIO_5GHz_Guest";
    var getWLanRadio5gGuestResponse = new SOAPGetWLanRadioSettingsResponse();
    soapAction.sendSOAPAction("GetWLanRadioSettings",settings,getWLanRadio5gGuestResponse).done(function(obj){
        dtd.resolve(obj);
    }).fail(function(){
        dtd.reject();
    });
    return dtd.promise();
}

function GetWLanRadio5gSettings(){
    var dtd = $.Deferred();
    var soapAction = new SOAPAction();
    var settings = new Object();
    settings.RadioID = "RADIO_5GHz";
    var getWLanRadio5gResponse = new SOAPGetWLanRadioSettingsResponse();
    soapAction.sendSOAPAction("GetWLanRadioSettings",settings,getWLanRadio5gResponse).done(function(obj){
        dtd.resolve(obj);
    }).fail(function(){
        dtd.reject();
    });
    return dtd.promise();
}

function GetWLanRadio5gSecuritySettings(){
    var dtd = $.Deferred();
    var soapAction = new SOAPAction();
    var settings = new Object();
    settings.RadioID = "RADIO_5GHz_Guest";
    var getWLanRadio5gSecurityResponse = new SOAPGetWLanRadioSecurityResponse();
    soapAction.sendSOAPAction("GetWLanRadioSecurity",settings,getWLanRadio5gSecurityResponse).done(function(obj){
        dtd.resolve(obj);
    }).fail(function(){
        dtd.reject();
    });
    return dtd.promise();
}

var wifi24_enable="";
var wifi24_ssid="";
var wifi24_preshared_key="";
var  wifi5_enable="";
var wifi5_ssid="";
var wifi5_preshared_key="";
var access_enable="";
var BandSteeringEnable="";
var access_timeout="";
var wifi24_crypto="";
var wifi5_crypto="";

function GetResult(/*getLocalAccess,*/getMsg24G,getMsgGuest24G,getSecurityGuest24G,getMsg5G,getMsgGuest5G,getSecurityGuest5G) {
	$("#select_access_timeout").selectbox();
    //BandSteeringEnable=result_xml.Get("GetMultipleHNAPsResponse/GetBandSteeringResponse/wl(0)_bandsteering"); //双频合一的参数
    /*access_enable = getLocalAccess.LocalAccess; //访问内资源的控制
    access_timeout = getLocalAccess.LocalAccessTimeout;*/

    wifi24_enable = getMsgGuest24G.Enabled;
    wifi24_ssid = HTMLDecode(getMsgGuest24G.SSID);
    wifi24_preshared_key=AES_Decrypt128(getSecurityGuest24G.Key);

    wifi5_enable = getMsgGuest5G.Enabled;
    wifi5_ssid = HTMLDecode(getMsgGuest5G.SSID);
    wifi5_preshared_key=AES_Decrypt128(getSecurityGuest5G.Key);

    wifi24_crypto = getSecurityGuest24G.Encryption;
    wifi5_crypto = getSecurityGuest5G.Encryption;
    Master_Wifi2G_SSID = HTMLDecode(getMsg24G.SSID);
    Master_Wifi5G_SSID = HTMLDecode(getMsg5G.SSID);

    /*if (access_enable == "true" )
    {
        document.getElementById("guest_local_access").checked = true;
        document.getElementById("guest_local_access_statue").className = "checkbox_on";
    }
    else
    {
        document.getElementById("guest_local_access").checked = false;
        document.getElementById("guest_local_access_statue").className = "checkbox_off";
    }

    document.getElementById("select_access_timeout").value=access_timeout;*/

    if (wifi24_enable == "true")
    {
        document.getElementById("wifienable_24").checked = true;
        document.getElementById("wlan_status").className = "checkbox_on";
        document.getElementById("wireless_name_24").style.display="";
        document.getElementById("wireless_passwd_24").style.display="";
        /*if(BandSteeringEnable=="1")
         {
         document.getElementById("guestunitycontent").style.display="";
         document.getElementById("guest_content_2.4_5").style.display="none";
         }
         else
         {
         document.getElementById("guestunitycontent").style.display="none";
         document.getElementById("guest_content_2.4_5").style.display="";
         }*/
    }
    else
    {
        document.getElementById("wifienable_24").checked = false;
        document.getElementById("wlan_status").className = "checkbox_off";
        document.getElementById("wireless_name_24").style.display="none";
        document.getElementById("wireless_passwd_24").style.display="none";
    }
    if (wifi5_enable == "true")
    {
        document.getElementById("wifienable_5").checked = true;
        document.getElementById("wlan5_statue").className = "checkbox_on";
        document.getElementById("wireless_name_5").style.display="";
        document.getElementById("wireless_passwd_5").style.display="";
    }
    else
    {
        document.getElementById("wifienable_5").checked = false;
        document.getElementById("wlan5_statue").className = "checkbox_off";
        document.getElementById("wireless_name_5").style.display="none";
        document.getElementById("wireless_passwd_5").style.display="none";
    }

    /*if (access_enable == "1" )
     {
     document.getElementById("guest_local_access").checked = true;
     document.getElementById("guest_local_access_statue").className = "checkbox_on";
     }
     else
     {
     document.getElementById("guest_local_access").checked = false;
     document.getElementById("guest_local_access_statue").className = "checkbox_off";
     }*/


    //document.getElementById("select_access_timeout").value=access_timeout;

    document.getElementById("unity_wifiName_24").value = wifi24_ssid;
    if(""==wifi24_crypto)
    {
        document.getElementById("unity_password1").value = "";
        document.getElementById("unity_password2").value = "";
    }
    else
    {
        document.getElementById("unity_password1").value = wifi24_preshared_key;
        document.getElementById("unity_password2").value = wifi24_preshared_key;
    }
    if(document.getElementById("unity_password1").value.length==0)
    {
        document.getElementById("pwdstr_unity_1").style.display="inline";
        document.getElementById("pwdstr_unity_2").style.display="inline";
    }
    else
    {
        document.getElementById("pwdstr_unity_1").style.display="none";
        document.getElementById("pwdstr_unity_2").style.display="none";
    }

    document.getElementById("wifiName_24").value=wifi24_ssid;
    if(""==wifi24_crypto)
    {
        document.getElementById("password1_24").value = "";
        document.getElementById("password2_24").value = "";
    }
    else
    {
        document.getElementById("password1_24").value = wifi24_preshared_key;
        document.getElementById("password2_24").value = wifi24_preshared_key;
    }
    if(document.getElementById("password2_24").value.length==0)
    {
        document.getElementById("pwdstr24_1").style.display="inline";
        document.getElementById("pwdstr24_2").style.display="inline";
    }
    else
    {
        document.getElementById("pwdstr24_1").style.display="none";
        document.getElementById("pwdstr24_2").style.display="none";
    }


    document.getElementById("wifiName_5").value=wifi5_ssid;
    if(""==wifi5_crypto)
    {
        document.getElementById("password1_5").value = "";
        document.getElementById("password2_5").value = "";
    }
    else
    {
        document.getElementById("password1_5").value = wifi5_preshared_key;
        document.getElementById("password2_5").value = wifi5_preshared_key;
    }
    if(document.getElementById("password1_5").value.length==0)
    {
        document.getElementById("pwdstr5_1").style.display="inline";
        document.getElementById("pwdstr5_2").style.display="inline";
    }
    else
    {
        document.getElementById("pwdstr5_1").style.display="none";
        document.getElementById("pwdstr5_2").style.display="none";
    }

    $("#select_access_timeout").selectbox("detach");
    $("#select_access_timeout").selectbox();
    document.getElementById("right_content").style.display="";
    document.getElementById("CreateOnloadMessage").style.display="none";
}


function hideAllGuestEnableErrorInfo_2g()
{
	//document.getElementById("error_1").style.display = "none";//限速 
	//document.getElementById("error_2").style.display = "none"; //限速
	document.getElementById("error_3").style.display = "none"; 
	document.getElementById("error_4").style.display = "none";
	$("#passwdstrength_2g").hide();
}

function hideAllGuestEnableErrorInfo_5g()
{
	document.getElementById("error_5").style.display = "none"; 
	document.getElementById("error_6").style.display = "none";
	$("#passwdstrength_5g").hide();
}

function hideAllGuestEnableErrorInfo_Unity()
{
	document.getElementById("unity_error_1").style.display = "none"; 
	document.getElementById("unity_error_2").style.display = "none";
	$("#passwdstrength_unity").hide();
}

function verifyGuestInputUnity()//验证用户输入
{
	hideAllGuestEnableErrorInfo_Unity();
	if(isGuestEnableSelect)//选择访客网络状态
	{	
		var wifiName2G=$("#unity_wifiName_24").val();
		var password2GValue=$("#unity_password1").val();
		var result2GSSID=verifySSID(wifiName2G);
		
		switch(result2GSSID)////2.4G SSID
		{
			case ERR_SSID_NULL:
				showErr("unity_error_1","unity_errorinfo_1",I18N("j","Err_Guest_NameEmpty"));
				return false;
			case ERR_SSID_SPACE:
				showErr("unity_error_1","unity_errorinfo_1",I18N("j","Err_Guest_NameSpace"));
				return false;
			case ERR_SSID_IVALID:
				showErr("unity_error_1","unity_errorinfo_1",I18N("j","Err_Guest_NameInvalid"));
				return false;
			case ERR_SSID_LEN:
				showErr("unity_error_1","unity_errorinfo_1",I18N("j","Err_Guest_NameLength"));
				return false;
			default:
				if(Master_Wifi2G_SSID == wifiName2G)
				{
					showErr("unity_error_1","unity_errorinfo_1",I18N("j","Err_Guest_NameSameWireless"));
					return false;
				}
				break;
		}
		if(""!=password2GValue)
		{
			if(!checkDoubleByteStr(password2GValue))//验证2.4G Password是否有双字节
			{
				if(CORRECT!=checkInputStr(password2GValue))
				{
					showErr("unity_error_2","unity_errorinfo_2",I18N("j","Err_Guest_PwdInvalid"));//存在空格
					return false;
				}
				if(!checkInputLength(password2GValue,8,63))
				{
					showErr("unity_error_2","unity_errorinfo_2",I18N("j","Err_Guest_PwdLength"));//2.4G访客密码长度错误
					return false;
				}

			}
			else 
			{
				showErr("unity_error_2","unity_errorinfo_2",I18N("j","Err_Guest_PwdInvalid"));//存在双字节字符
				return false;
			}			
		}
	}
	return true;
}


function verifyGuestInput()//验证用户输入
{
	hideAllGuestEnableErrorInfo_2g();
	hideAllGuestEnableErrorInfo_5g();
	if(isGuestEnableSelect)//选择访客网络状态
	{
		var wifiName2G=$("#wifiName_24").val();
		var password2GValue=$("#password1_24").val();
		var wifiName5G=$("#wifiName_5").val();
		var password5GValue=$("#password1_5").val(); 
		var result2GSSID=verifySSID(wifiName2G);//验证2.4GSSID
		var result5GSSID=verifySSID(wifiName5G);//验证5G SSID
		
		switch(result2GSSID)////2.4G SSID
		{
			case ERR_SSID_NULL:
				showErr("error_3","errorinfo_3",I18N("j","Err_Guest_Name2GEmpty"));
				return false;
			case ERR_SSID_SPACE:
				showErr("error_3","errorinfo_3",I18N("j","Err_Guest_Name2GSpace"));
				return false;
			case ERR_SSID_IVALID:
				showErr("error_3","errorinfo_3",I18N("j","Err_Guest_Name2GInvalid"));
				return false;
			case ERR_SSID_LEN:
				showErr("error_3","errorinfo_3",I18N("j","Err_Guest_Name2GLength"));
				return false;
			default:
				if(Master_Wifi2G_SSID == wifiName2G || Master_Wifi5G_SSID == wifiName2G)
				{
					showErr("error_3","errorinfo_3",I18N("j","Err_Guest_Name2GSameWireless"));
					return false;
				}
				/*//允许2.4G和5G一样ssid
				if(wifiName5G == wifiName2G)
				{
					showErr("error_3","errorinfo_3",I18N("j","Err_Guest_Name2GSame5G"));
					return false;
				}
				*/
				break;
		}
		if(""!=password2GValue)
		{
			if(!checkDoubleByteStr(password2GValue))//验证2.4G Password是否有双字节
			{
				if(CORRECT!=checkInputStr(password2GValue))
				{
					showErr("error_4","errorinfo_4",I18N("j","Err_Guest_Pwd2GInvalid"));//存在空格
					return false;
				}
				if(!checkInputLength(password2GValue,8,63))
				{
					showErr("error_4","errorinfo_4",I18N("j","Err_Guest_Pwd2GLength"));//2.4G访客密码长度错误
					return false;
				}
				/*
				if(!checkStrAllHex(password2GValue) && password2GValue.length==64)
				{
					showErr("error_4","errorinfo_4",I18N("j","Err_Guest_Pwd2GNotHex"));//64位密码中存在非16进制
					return false;
				}
				*/
			}
			else 
			{
				showErr("error_4","errorinfo_4",I18N("j","Err_Guest_Pwd2GInvalid"));//存在双字节字符
				return false;
			}			
		}

		switch(result5GSSID)//5G无线访客网络
		{
			case ERR_SSID_NULL:
				showErr("error_5","errorinfo_5",I18N("j","Err_Guest_Name5GEmtpy"));
				return false;
			case ERR_SSID_SPACE:
				showErr("error_5","errorinfo_5",I18N("j","Err_Guest_Name5GSpace"));
				return false;
			case ERR_SSID_IVALID:
				showErr("error_5","errorinfo_5",I18N("j","Err_Guest_Name5GInvalid"));
				return false;
			case ERR_SSID_LEN:
				showErr("error_5","errorinfo_5",I18N("j","Err_Guest_Name5GLength"));
				return false;
			default:
				if(Master_Wifi2G_SSID == wifiName5G || Master_Wifi5G_SSID == wifiName5G)
				{
					showErr("error_5","errorinfo_5",I18N("j","Err_Guest_Name5GSameWireless"));
					return false;
				}
				break;
		}
		if(""!=password5GValue)
		{
			if(!checkDoubleByteStr(password5GValue))//验证5G Password是否有双字节
			{
				if(CORRECT!=checkInputStr(password5GValue))
				{
					showErr("error_6","errorinfo_6",I18N("j","Err_Guest_Pwd5GInvalid"));//存在空格
					return false;
				}
				if(!checkInputLength(password5GValue,8,63))
				{
					showErr("error_6","errorinfo_6",I18N("j","Err_Guest_Pwd5GLength"));//5G密码长度错误
					return false;
				}
			}
			else 
			{
				showErr("error_6","errorinfo_6",I18N("j","Err_Guest_Pwd5GInvalid"));//存在双字节字符
				return false;
			}			
		}

		
	}
	return true;
}

function crtChannel()
{
	var new_options=[],new_values=[];
	new_options = ['AUTO','1','2','3','4','5','6','7','8','9','10','11'];
	new_values  = ['0','1','2','3','4','5','6','7','8','9','10','11'];
	 var u = document.getElementById("select_channel");
	for(var i=0;i<new_options.length;i++)
	{
	 u.options.add(new Option(new_options[i], new_values[i]))
	}

}

function BtnSaveClick()
{
	if(BandSteeringEnable=="1")
	{
		var result=verifyGuestInputUnity();
	}
	else
	{
		var result=verifyGuestInput();
	}
	if(result)
	{
		document.getElementById("createPop_ConfigSave").style.display = "";
	}
}
function SaveConfirm()
{
	document.getElementById("createPop_ConfigSave").style.display = "none";
	//CheckConnectionStatus();
    SetXML();
}
function SaveCancel()
{
	document.getElementById("createPop_ConfigSave").style.display = "none";
}

function CheckConnectionStatus() {
 
	$.ajax({
	cache: false,
	url: "./js/CheckConnection",
	timeout: 5000,
	type: "GET",
	success: function(data) {
	SetXML();
	},
	error: function() {
	  document.getElementById("DetectRouterConnection").style.display = "inline";
	}
  });
}
function SetXML() {
	document.getElementById("CreatePopAlertMessage").style.display = "inline";
	hideAllGuestEnableErrorInfo_2g();
	hideAllGuestEnableErrorInfo_5g();
	SetResult();
}

function SetResult() {
    var soapAction = new SOAPAction();
   /* var localAccessSettings = new SOAPSetLocalAccessSettings();
    if (document.getElementById("guest_local_access").checked == true)
    {
        localAccessSettings.LocalAccess = true;
    }
    else
    {
        localAccessSettings.LocalAccess = false;
    }
    localAccessSettings.LocalAccessTimeout = document.getElementById("select_access_timeout").value;
    soapAction.SetMultipleSOAP("SetGuestWLanSettings", localAccessSettings, null);*/

    var settings = new SOAPSetWLanRadioSettings();
    if (document.getElementById("wifienable_24").checked == true)
    {
        settings.Enabled = true;
    }
    else
    {
        settings.Enabled = false;
    }
    settings.SSID = XMLEncode(document.getElementById("wifiName_24").value);
    settings.RadioID = "RADIO_2.4GHz_Guest";
    soapAction.SetMultipleSOAP("SetWLanRadioSettings", settings, null);

    settings = new SOAPSetWLanRadioSecurity();
    settings.RadioID = "RADIO_2.4GHz_Guest";
    var key24 = document.getElementById("password1_24").value;
    if (key24.length == 0) {
        settings.Encryption = "";
    } else {
        settings.Encryption = "WPAORWPA2-PSK";
    }
    key24 = AES_Encrypt128(key24);
    settings.Key = key24;
    soapAction.SetMultipleSOAP("SetWLanRadioSecurity", settings, null);

    //5G
    settings = new SOAPSetWLanRadioSettings();
    if (document.getElementById("wifienable_5").checked == true)
    {
        settings.Enabled = true;
    }
    else
    {
        settings.Enabled = false;
    }
    settings.SSID = XMLEncode(document.getElementById("wifiName_5").value);
    settings.RadioID = "RADIO_5GHz_Guest";
    soapAction.SetMultipleSOAP("SetWLanRadioSettings", settings, null);

    settings = new SOAPSetWLanRadioSecurity();
    settings.RadioID = "RADIO_5GHz_Guest";
    var key5 = document.getElementById("password1_5").value;
    if (key5.length == 0) {
        settings.Encryption = "";
    } else {
        settings.Encryption = "WPAORWPA2-PSK";
    }
    key5 = AES_Encrypt128(key5);
    settings.Key = key5;
    soapAction.SetMultipleSOAP("SetWLanRadioSecurity", settings, null);
    soapAction.SendMultipleSOAPAction("SetMultipleActions").done(function(obj,status){
        if(status == "OK"){
            setTimeout("waitSettingFinished()", 20000);
        }else{
            document.getElementById("CreatePopAlertMessage").style.display = "none";
            document.getElementById("DetectRouterConnection").style.display = "inline";
        }
    }).fail(function(){
        document.getElementById("CreatePopAlertMessage").style.display = "none";
        document.getElementById("DetectRouterConnection").style.display = "inline";
    });
    if(navigator.userAgent.match(/iPad|Android|webOS|iPhone|iPod|BlackBerry/i)) {
        setTimeout("mobileSaveConfig()", 15000);
    }
}
function mobileSaveConfig()
{
	document.getElementById("CreatePopAlertMessage").style.display = "none";
	document.getElementById("MessageWifiFinish").style.display = "inline";
	
}
function ChangAccessEnable()
{
	var a = document.getElementById("guest_local_access").checked;
	if(a)
	{
		document.getElementById("guest_local_access_statue").className = "checkbox_off";
		document.getElementById("guest_local_access").checked=false;	
	}
	else
	{
		document.getElementById("guest_local_access_statue").className = "checkbox_on";
		document.getElementById("guest_local_access").checked=true;
	}
}

function passwordType(tag,wirelesstype)
{
	if(tag==0)//显示密码
	{
		if(wirelesstype=="2G")
		{
			document.getElementById("div_password1_24").style.display="none";
			document.getElementById('div_password2_24').style.display="";
			if (document.getElementById("password2_24").value.length == 0)
			{
				document.getElementById("pwdstr24_2").style.display = "inline";
			}
			else
			{
				document.getElementById("pwdstr24_2").style.display = "none";
			}
		
		}
		else
		{
			
			document.getElementById("div_password1_5").style.display="none";
			document.getElementById('div_password2_5').style.display="";
			if (document.getElementById("password2_5").value.length == 0)
			{
				document.getElementById("pwdstr5_2").style.display = "inline";
			}
			else
			{
				document.getElementById("pwdstr5_2").style.display = "none";
			}			
		}
	}
	else//隐藏密码
	{
		if(wirelesstype=="2G")
		{
			document.getElementById('div_password1_24').style.display="";
			document.getElementById('div_password2_24').style.display="none";
			if (document.getElementById("password1_24").value.length == 0)
			{
				document.getElementById("pwdstr24_1").style.display = "inline";
			}
			else
			{
				document.getElementById("pwdstr24_1").style.display = "none";
			}		
		}
		else
		{
			
			document.getElementById('div_password1_5').style.display="";
			document.getElementById('div_password2_5').style.display="none";
			if (document.getElementById("password1_5").value.length == 0)
			{
				document.getElementById("pwdstr5_1").style.display = "inline";
			}
			else
			{
				document.getElementById("pwdstr5_1").style.display = "none";
			}

		}
		
	}
	
}

function UnitypasswordType(tag)
{
	if(tag==0)//显示密码
	{

		document.getElementById("unity_div_password1").style.display="none";
		document.getElementById('unity_div_password2').style.display="";
		if (document.getElementById("unity_password2").value.length == 0)
		{
			document.getElementById("pwdstr_unity_2").style.display = "inline";
		}
		else
		{
			document.getElementById("pwdstr_unity_2").style.display = "none";
		}			

	}
	else//隐藏密码
	{

			document.getElementById('unity_div_password1').style.display="";
			document.getElementById('unity_div_password2').style.display="none";
			if (document.getElementById("unity_password1").value.length == 0)
			{
				document.getElementById("pwdstr_unity_1").style.display = "inline";
			}
			else
			{
				document.getElementById("pwdstr_unity_1").style.display = "none";
			}

	}

}

//点击打开或关闭2.4G访客网络按钮
function wifienableclick()
{
	var a = document.getElementById("wifienable_24").checked;
	if(a)//如是关闭wifi，直接显示
	{
		document.getElementById("div_clowifyconfirm5g").style.display = "none";
		document.getElementById("div_clowifyconfirm2g").style.display = "";
		document.getElementById("createPop_GuestSave").style.display = "";
	}
	else//如果打开wifi
	{
		ChangewlanStatus();
        CloseGuest24G();
	}
}

//点击打开或关闭5G访客网络按钮
function wifienableclick5g()
{
	var a = document.getElementById("wifienable_5").checked;
	if(a)//如是关闭wifi，直接显示
	{
		document.getElementById("div_clowifyconfirm5g").style.display = "";
		document.getElementById("div_clowifyconfirm2g").style.display = "none";
		document.getElementById("createPop_GuestSave").style.display = "";
	}
	else//如果打开wifi
	{
		ChangewlanStatus5();
        CloseGuest5G();
	}
}

function Guestenableclick()
{
	var a = document.getElementById("guest_enable").checked;
	if(a)//如是关闭访客，直接显示
	{
		document.getElementById("createPop_GuestSave").style.display = "";
	}
	else//如果打开访客
	{
		ChangGuestEnableStatue();
        CloseGuest5G();
	}
}

//关闭2.4G无线访客网络确认
function CloseGuestConfirm()
{
	document.getElementById("createPop_GuestSave").style.display = "none";
	ChangewlanStatus();
    CloseGuest24G();
	//CheckConnectionStatus1();
}

function CloseGuest24G(){
    document.getElementById("CreatePopAlertMessage").style.display = "inline";
    var soapAction = new SOAPAction();
    var settings = new SOAPSetWLanRadioSettings();
    if (document.getElementById("wifienable_24").checked == true)
    {
        settings.Enabled = true;
    }
    else
    {
        settings.Enabled = false;
    }
    //settings.SSID = document.getElementById("wifiName_24").value;
    settings.RadioID = "RADIO_2.4GHz_Guest";
    soapAction.sendSOAPAction("SetWLanRadioSettings", settings, null).done(function(obj){
        if(obj.SetWLanRadioSettingsResult == "OK"){
            setTimeout("waitSettingFinished()", 20000);
        }else{
            document.getElementById("CreatePopAlertMessage").style.display = "none";
            document.getElementById("DetectRouterConnection").style.display = "inline";
        }
    }).fail(function(){
        document.getElementById("CreatePopAlertMessage").style.display = "none";
        document.getElementById("DetectRouterConnection").style.display = "inline";
    });
}

//关闭5G无线访客网络确认
function CloseWifiConfirm5G()
{
	document.getElementById("createPop_GuestSave").style.display = "none";
	ChangewlanStatus5();
    CloseGuest5G();
	//CheckConnectionStatus1();
}

function CloseGuest5G(){
    document.getElementById("CreatePopAlertMessage").style.display = "inline";
    var soapAction = new SOAPAction();
    var settings = new SOAPSetWLanRadioSettings();
    if (document.getElementById("wifienable_5").checked == true)
    {
        settings.Enabled = true;
    }
    else
    {
        settings.Enabled = false;
    }
    settings.RadioID = "RADIO_5GHz_Guest";
    soapAction.sendSOAPAction("SetWLanRadioSettings", settings, null).done(function(obj){
        if(obj.SetWLanRadioSettingsResult == "OK"){
            setTimeout("waitSettingFinished()", 20000);
        }else{
            document.getElementById("CreatePopAlertMessage").style.display = "none";
            document.getElementById("DetectRouterConnection").style.display = "inline";
        }
    }).fail(function(){
        document.getElementById("CreatePopAlertMessage").style.display = "none";
        document.getElementById("DetectRouterConnection").style.display = "inline";
    });
}

function CloseGuestCancel()
{
	document.getElementById("createPop_GuestSave").style.display = "none";
}

function ChangewlanStatus()
{
	changecheckbox("wlan_status","wifienable_24","2G");
}	
function ChangewlanStatus5()
{
	changecheckbox("wlan5_statue","wifienable_5","5G");
}

function changecheckbox(checkbox_on_off_id,checkbox_id,type)
{
	var a = document.getElementById(checkbox_id).checked;
	
	if(a)//关闭
	{
		document.getElementById(checkbox_on_off_id).className = "checkbox_off";
		document.getElementById(checkbox_id).checked = false;
		if(type=="2G")
		{
			hideAllGuestEnableErrorInfo_2g();
			document.getElementById('wireless_name_24').style.display = "none";
			document.getElementById('wireless_passwd_24').style.display = "none";
		}
		else
		{
			hideAllGuestEnableErrorInfo_5g();
			document.getElementById('wireless_name_5').style.display = "none";
			document.getElementById('wireless_passwd_5').style.display = "none";
		}
	}
	else//开启
	{
		document.getElementById(checkbox_on_off_id).className = "checkbox_on";
		document.getElementById(checkbox_id).checked = true;
		if(type=="2G")
		{
			document.getElementById('wireless_name_24').style.display = "";
			document.getElementById('wireless_passwd_24').style.display = "";

		}
		else
		{
			document.getElementById('wireless_name_5').style.display = "";
			document.getElementById('wireless_passwd_5').style.display = "";
		}
	}
}

function ChangGuestEnableStatue() {
	var a = document.getElementById("guest_enable").checked;
	
	if(a)
	{
		isGuestEnableSelect=false;
		document.getElementById("guest_statue").className = "checkbox_off";
		document.getElementById("guest_enable").checked=false;	
		document.getElementById("guest_content").style.display = "none";
		hideAllGuestEnableErrorInfo_2g();
		hideAllGuestEnableErrorInfo_5g();
	}
	else
	{
		isGuestEnableSelect=true;
		document.getElementById("guest_statue").className = "checkbox_on";
		document.getElementById("guest_enable").checked=true;
		if(BandSteeringEnable=="1")
		{
			document.getElementById("guestunitycontent").style.display = "";
			document.getElementById("guest_content_2.4_5").style.display = "none";
		}
		else
		{
			document.getElementById("guestunitycontent").style.display = "none";
			document.getElementById("guest_content_2.4_5").style.display = "";
		}
		document.getElementById("guest_content").style.display = "";

	}  

}

function waitSettingFinished() {
  window.location.reload();
}

$(document).ready( function() {

	document.getElementById("right_content").style.display="none";
	document.getElementById("CreateOnloadMessage").style.display="";
	MoreContainMiniheight();
	Load_HTML();
	
	//当按tab输入Wifi密码时，提示消失
	$("#password1_24").bind('input propertychange',function(){
		document.getElementById("pwdstr24_1").style.display = "none";
	});
	$("#password2_24").bind('input propertychange',function(){
		document.getElementById("pwdstr24_2").style.display = "none";
	});
	$("#password1_5").bind('input propertychange',function(){
		document.getElementById("pwdstr5_1").style.display = "none";
	});
	$("#password2_5").bind('input propertychange',function(){
		document.getElementById("pwdstr5_2").style.display = "none";
	});
	
	document.getElementById("password1_24").onclick = function()
	{
		document.getElementById("div_password1_24").className="text_eye_divfocus";
		document.getElementById("pwdstr24_1").style.display = "none";
	};
	document.getElementById("password1_24").onblur = function()
	{
		document.getElementById("div_password1_24").className="text_eye_div";
		document.getElementById("password2_24").value=this.value;
		if (this.value.length == 0)
		{
			document.getElementById("pwdstr24_1").style.display = "inline";
		}
	};
	
	document.getElementById("password2_24").onclick = function()
	{
		document.getElementById("div_password2_24").className="text_eye_divfocus";
		document.getElementById("pwdstr24_2").style.display = "none";
	};
	document.getElementById("password2_24").onblur = function()
	{
		document.getElementById("div_password2_24").className="text_eye_div";
		document.getElementById("password1_24").value=this.value;
		if (this.value.length == 0)
		{
			document.getElementById("pwdstr24_2").style.display = "inline";
		}
	};	
	
	document.getElementById("password1_5").onclick = function()
	{
		document.getElementById("div_password1_5").className="text_eye_divfocus";
		document.getElementById("pwdstr5_1").style.display = "none";
	};
	document.getElementById("password1_5").onblur = function()
	{
		document.getElementById("div_password1_5").className="text_eye_div";
		document.getElementById("password2_5").value=this.value;
		if (this.value.length == 0)
		{
			document.getElementById("pwdstr5_1").style.display = "inline";
		}
	};
	
	document.getElementById("password2_5").onclick = function()
	{
		document.getElementById("div_password2_5").className="text_eye_divfocus";
		document.getElementById("pwdstr5_2").style.display = "none";
	};
	document.getElementById("password2_5").onblur = function()
	{
		document.getElementById("div_password2_5").className="text_eye_div";
		document.getElementById("password1_5").value=this.value;
		if (this.value.length == 0)
		{
			document.getElementById("pwdstr5_2").style.display = "inline";
		}
	};
	
	document.getElementById("unity_password1").onclick = function()
	{
		
		document.getElementById("pwdstr_unity_1").style.display = "none";
	};
	document.getElementById("unity_password1").onblur = function()
	{
		document.getElementById("unity_password2").value=this.value;
		if (this.value.length == 0)
		{
			document.getElementById("pwdstr_unity_1").style.display = "inline";
		}
	};
	
	document.getElementById("unity_password2").onclick = function()
	{
		document.getElementById("pwdstr_unity_2").style.display = "none";
	};
	document.getElementById("unity_password2").onblur = function()
	{
		document.getElementById("unity_password1").value=this.value;
		if (this.value.length == 0)
		{
			document.getElementById("pwdstr_unity_2").style.display = "inline";
		}
	};			
	
	GetXML();
	checkTimeout();
	
	document.getElementById("savebutton").value = I18N("j","Commom_Save");//保存
	document.getElementById("btn_save_confirm").value = I18N("j","Commom_Confirm");//确认
	document.getElementById("btn_save_cancel").value = I18N("j","Commom_Cancel");//取消
	document.getElementById("btn_closewifi_confirm").value = I18N("j","Commom_Confirm");//确认
	document.getElementById("btn_closewifi5g_confirm").value = I18N("j","Commom_Confirm");//确认
	document.getElementById("btn_closewifi_cancel").value = I18N("j","Commom_Cancel");//取消
	document.getElementById("btn_closewifi5g_cancel").value = I18N("j","Commom_Cancel");//取消
	$("#option_unlimit").html(I18N("j","Guestwireless_Unrestricted_Time"));//无限制
	$("#option_4hour").html(I18N("j","Guestwireless_Four_Hours"));//4小时
	$("#optoin_1day").html(I18N("j","Guestwireless_One_Day"));//一天
	
	if(G_Language == "en-us")
	{
		$("#div_save_guestwifi").css({"height":"385px"});
		$("#div_close_guestwifi").css({"height":"385px"});
	}

    $("input, select").change(function () {
        save_button_changed();
    });

    $("input").keypress(function () {
        save_button_changed();
    });
});

function save_button_changed()
{
    $("#savebutton").attr("disabled",false).removeClass("styled_button_s").addClass("styled_button_s_active");
}


function setPasswordStrength_unity(value)
{
	  $("#unity_error_2").hide();
	 	var score = 0;
        if ("" == value){
            $("#passwdstrength_unity").hide();
            return;
        }
        var passwd = value;
        if ("" == passwd || passwd.length < 8 || passwd.length > 63){
            $("#passwdstrength_unity").hide();
            return;
        }
        var len = 8;
        $("#passwdstrength_unity").show();
		if(passwd.length < len){         
                score = 10;
        }else{
            if (passwd.match(/[a-z]/)) {
                score += 25;
            }
            if (passwd.match(/[A-Z]/)) {
                score += 25;
            }
            if (passwd.match(/[0-9]/)){
                score += 25;
            }
            if (passwd.match(/\W/)){
                score += 25;
            }
        }
        if (score <= 35){
            //$("#padstrenght_unity").html("弱");
            $("#padstrenght_unity").html(I18N("j","Commom_Password_Weak"));
            $("#pwdfirstId_unity").css("background-color", "#666666");
            $("#pwdsecondId_unity").css("background-color", "#e9ecf1");
            $("#pwdthirdId_unity").css("background-color", "#e9ecf1");
        }else if (score > 35 && score <= 60) {
            //$("#padstrenght_unity").html("中");
            $("#padstrenght_unity").html(I18N("j","Commom_Password_Middle"));
            $("#pwdfirstId_unity").css("background-color", "#666666");
            $("#pwdsecondId_unity").css("background-color", "#666666");
            $("#pwdthirdId_unity").css("background-color", "#e9ecf1");
        }else if(score > 60) {
            //$("#padstrenght_unity").html("强");
            $("#padstrenght_unity").html(I18N("j","Commom_Password_Strong"));
            $("#pwdfirstId_unity").css("background-color", "#666666");
            $("#pwdsecondId_unity").css("background-color", "#666666");
            $("#pwdthirdId_unity").css("background-color", "#666666");
        }



}
	
function setPasswordStrength_2g(value)
{
		$("#error_4").hide();
	 	var score = 0;
        if ("" == value){
            $("#passwdstrength_2g").hide();
            return;
        }
        var passwd = value;
        if ("" == passwd || passwd.length < 8 || passwd.length > 63){
            $("#passwdstrength_2g").hide();
            return;
        }
        var len = 8;
        $("#passwdstrength_2g").show();
		if(passwd.length < len){         
                score = 10;
        }else{
            if (passwd.match(/[a-z]/)) {
                score += 25;
            }
            if (passwd.match(/[A-Z]/)) {
                score += 25;
            }
            if (passwd.match(/[0-9]/)){
                score += 25;
            }
            if (passwd.match(/\W/)){
                score += 25;
            }
        }
        if (score <= 35){
            //$("#padstrenght_2g").html("弱");
            $("#padstrenght_2g").html(I18N("j","Commom_Password_Weak"));
            $("#pwdfirstId_2g").css("background-color", "#666666");
            $("#pwdsecondId_2g").css("background-color", "#e9ecf1");
            $("#pwdthirdId_2g").css("background-color", "#e9ecf1");
        }else if (score > 35 && score <= 60) {
            //$("#padstrenght_2g").html("中");
            $("#padstrenght_2g").html(I18N("j","Commom_Password_Middle"));
            $("#pwdfirstId_2g").css("background-color", "#666666");
            $("#pwdsecondId_2g").css("background-color", "#666666");
            $("#pwdthirdId_2g").css("background-color", "#e9ecf1");
        }else if(score > 60) {
            //$("#padstrenght_2g").html("强");
            $("#padstrenght_2g").html(I18N("j","Commom_Password_Strong"));
            $("#pwdfirstId_2g").css("background-color", "#666666");
            $("#pwdsecondId_2g").css("background-color", "#666666");
            $("#pwdthirdId_2g").css("background-color", "#666666");
        }
}

function setPasswordStrength_5g(value)
{
		$("#error_6").hide();
	 	var score = 0;
        if ("" == value){
            $("#passwdstrength_5g").hide();
            return;
        }
        var passwd = value;
        if ("" == passwd || passwd.length < 8 || passwd.length > 63){
            $("#passwdstrength_5g").hide();
            return;
        }
        var len = 8;
        $("#passwdstrength_5g").show();
		if(passwd.length < len){         
                score = 10;
        }else{
            if (passwd.match(/[a-z]/)) {
                score += 25;
            }
            if (passwd.match(/[A-Z]/)) {
                score += 25;
            }
            if (passwd.match(/[0-9]/)){
                score += 25;
            }
            if (passwd.match(/\W/)){
                score += 25;
            }
        }
        if (score <= 35){
            //$("#padstrenght_5g").html("弱");
            $("#padstrenght_5g").html(I18N("j","Commom_Password_Weak"));
            $("#pwdfirstId_5g").css("background-color", "#666666");
            $("#pwdsecondId_5g").css("background-color", "#e9ecf1");
            $("#pwdthirdId_5g").css("background-color", "#e9ecf1");
        }else if (score > 35 && score <= 60) {
            //$("#padstrenght_5g").html("中");
            $("#padstrenght_5g").html(I18N("j","Commom_Password_Middle"));
            $("#pwdfirstId_5g").css("background-color", "#666666");
            $("#pwdsecondId_5g").css("background-color", "#666666");
            $("#pwdthirdId_5g").css("background-color", "#e9ecf1");
        }else if(score > 60) {
            //$("#padstrenght_5g").html("强");
            $("#padstrenght_5g").html(I18N("j","Commom_Password_Strong"));
            $("#pwdfirstId_5g").css("background-color", "#666666");
            $("#pwdsecondId_5g").css("background-color", "#666666");
            $("#pwdthirdId_5g").css("background-color", "#666666");
        }
}

function check24GSSID(){
    document.getElementById("error_3").style.display = "none";
    var wifiName2G=$("#wifiName_24").val();
    var result2GSSID=verifySSID(wifiName2G);//验证2.4GSSID
    switch(result2GSSID)////2.4G SSID
    {
        case ERR_SSID_NULL:
            showErr("error_3","errorinfo_3",I18N("j","Err_Guest_Name2GEmpty"));
            return false;
        case ERR_SSID_SPACE:
            showErr("error_3","errorinfo_3",I18N("j","Err_Guest_Name2GSpace"));
            return false;
        case ERR_SSID_IVALID:
            showErr("error_3","errorinfo_3",I18N("j","Err_Guest_Name2GInvalid"));
            return false;
        case ERR_SSID_LEN:
            showErr("error_3","errorinfo_3",I18N("j","Err_Guest_Name2GLength"));
            return false;
        default:
            if(Master_Wifi2G_SSID == wifiName2G || Master_Wifi5G_SSID == wifiName2G)
            {
                showErr("error_3","errorinfo_3",I18N("j","Err_Guest_Name2GSameWireless"));
                return false;
            }
            break;
    }
}

function check5GSSID(){
    document.getElementById("error_5").style.display = "none";
    var wifiName5G=$("#wifiName_5").val();
    var result5GSSID=verifySSID(wifiName5G);//验证5G SSID
    switch(result5GSSID)//5G无线访客网络
    {
        case ERR_SSID_NULL:
            showErr("error_5","errorinfo_5",I18N("j","Err_Guest_Name5GEmtpy"));
            return false;
        case ERR_SSID_SPACE:
            showErr("error_5","errorinfo_5",I18N("j","Err_Guest_Name5GSpace"));
            return false;
        case ERR_SSID_IVALID:
            showErr("error_5","errorinfo_5",I18N("j","Err_Guest_Name5GInvalid"));
            return false;
        case ERR_SSID_LEN:
            showErr("error_5","errorinfo_5",I18N("j","Err_Guest_Name5GLength"));
            return false;
        default:
            if(Master_Wifi2G_SSID == wifiName5G || Master_Wifi5G_SSID == wifiName5G)
            {
                showErr("error_5","errorinfo_5",I18N("j","Err_Guest_Name5GSameWireless"));
                return false;
            }
            break;
    }
}

function checkPassword24G(value){
    document.getElementById("error_4").style.display = "none";
    var password2GValue = value;
    if(""!=password2GValue)
    {
        if(!checkDoubleByteStr(password2GValue))//验证2.4G Password是否有双字节
        {
            if(CORRECT!=checkInputStr(password2GValue))
            {
                showErr("error_4","errorinfo_4",I18N("j","Err_Guest_Pwd2GInvalid"));//存在空格
                return false;
            }
            if(!checkInputLength(password2GValue,8,63))
            {
                showErr("error_4","errorinfo_4",I18N("j","Err_Guest_Pwd2GLength"));//2.4G访客密码长度错误
                return false;
            }
        }
        else
        {
            showErr("error_4","errorinfo_4",I18N("j","Err_Guest_Pwd2GInvalid"));//存在双字节字符
            return false;
        }
    }
    return true;
}

function checkPassword5G(value){
    document.getElementById("error_6").style.display = "none";
    var password5GValue = value;
    if(""!=password5GValue)
    {
        if(!checkDoubleByteStr(password5GValue))//验证5G Password是否有双字节
        {
            if(CORRECT!=checkInputStr(password5GValue))
            {
                showErr("error_6","errorinfo_6",I18N("j","Err_Guest_Pwd5GInvalid"));//存在空格
                return false;
            }
            if(!checkInputLength(password5GValue,8,63))
            {
                showErr("error_6","errorinfo_6",I18N("j","Err_Guest_Pwd5GLength"));//5G密码长度错误
                return false;
            }
        }
        else
        {
            showErr("error_6","errorinfo_6",I18N("j","Err_Guest_Pwd5GInvalid"));//存在双字节字符
            return false;
        }
    }
}

</script>
</head>

<body>
<!-------------------- Logo menu------------------------->
	<div class="wrapper">  
		<div id="header"></div>
		<div class="clearboth" align="center" id="content">
			<div class="morecontent" align="center" id="basiccontent">
		 		<div class="pull-left" id="sub_menu_container">
				<script>initialLeftMenu();</script>
				 </div>
				<div id="right_content"  class="pull-left" style="display:none; ">
					<table border="0"  class="clearboth tablemoreheader" cellpadding="0" cellspacing="0" align="left">
						<tr>
							<th><script>I18N("h","Commom_Guest_Network");</script><!-- 访客网络 --></th>
							<td class="tdcheckbox" style="display:none;">
								 <div id="guest_statue" class="checkbox_on" onclick="Guestenableclick();">
                       				 <input type="checkbox" id="guest_enable" name="guest_enable"/>
                      			</div>
							</td>
							</tr>
	
					</table>
					<div class="clearboth moreline1"></div>
					<div id="guest_content">
					<div class="moredescription" style="text-align:justify;"><script>I18N("h","Guestwireless_Headline");</script><!-- 开启此功能可以设置一个专供访客使用的无线网络，从而在保障主人网络数据及信息安全的同时，也能满足访客的上网需求。 --></div>
					<div align="left" style="margin-top:36px;display: none;" >
					  <table border="0" style="margin:0;" class="clearboth block" cellpadding="0" cellspacing="0">
						<tbody>
						  <tr>
							<th>
							  <script>I18N("h","Guestwireless_Resources");</script><!-- 访问内网资源 -->
							</th>
							<td class="tdcheckbox">
							 	<div id="guest_local_access_statue" class="checkbox_off" onclick="ChangAccessEnable();">
                       				  <input type="checkbox" id="guest_local_access" name="guest_local_access">
                      			</div>
							
							</td>
						  </tr>

						 <tr class="space"> </tr>			
						  <tr>
						  <th>
						<script>I18N("h","Guestwireless_Open_Time");</script><!-- 开放时间限制 -->
						  </th>
						  <td>
							<select name="select_access_timeout" id="select_access_timeout">
								<option id="option_unlimit" value="0"></option>
								<option id="option_4hour" value="4"></option>
								<option id="optoin_1day" value="24"></option>
							</select>
						  </td>
						</tr>						 
						</tbody>
					  </table>
					</div>					
					
					<div align="left" id="guestunitycontent" style="display:none;">
					 <div class="clearboth headerline2" align="left" style="padding-top:64px; padding-bottom:12px; "><script>I18N("h","Guestwireless_Wifi_Network");</script><!-- 无线访客网络 --></div>
					 <div class="clearboth moreline1"></div>
					 <div class="moredescription" style="text-align:justify;"><script>I18N("h","Guestwireless_WifiUnity_Open");</script><!-- WiFi双频合一功能已开启，访客网络2.4G和5G使用相同的网络名称和密码。 --></div>
					  <table border="0" class="clearboth block" cellpadding="0" cellspacing="0" style="margin-top:48px;">
						<tbody>
						  <tr>
							<th>
							  <script>I18N("h","Guestwireless_SSID");</script><!-- 访客网络名称 -->
							</th>
							<td>
							  <input type="text" id="unity_wifiName_24" size="30" maxlength="32" name="unity_wifiName_24" class="styled-text">
							</td>
						  </tr>
						  <tr id="unity_error_1" style="display:none;">
							<td>&nbsp;</td>
							<td class="errorinfo">
								<table>
									<tbody>
										<tr>
											<td>
												<div class="ic-sign ic"></div>
											</td>
											<td id="unity_errorinfo_1" style="line-height:20px;"></td>
										</tr>
									</tbody>
								</table>
							</td>
						  </tr>
						  <tr class="space">
						  </tr>
						  <tr>
							<th>
							 <script>I18N("h","Guestwireless_Password");</script><!-- 访客网络密码 -->
							</th>
							<td>
							   <div id="unity_div_password1" class="text_eye_div">
							   	 <input type="password" id="unity_password1" size="30" maxlength="63" name="unity_password1" class="text_eye_input hiddeneye" onkeyup="setPasswordStrength_unity(this.value);">
							   	 <div class="ui-input-rightimg_eye1" id="unityclosepassword" onClick="UnitypasswordType(0);"><img src="/image/icon_xianshi.png" height="20" width="20"></div>
							  	<label id="pwdstr_unity_1" for="unity_password1" class="inputpwdlable" style="display:none; "><script>I18N("h","Wireless_Password_Optional");</script><!-- 请设置密码(选填) --></label>
							   </div>
							   <div id="unity_div_password2" class="text_eye_div" style="display:none; ">
							    <input type="text" id="unity_password2" size="30" maxlength="63" name="unity_password2" class="text_eye_input hiddenclean" onkeyup="setPasswordStrength_unity(this.value);">
							    <div class="ui-input-rightimg_eye1" id="unityopenpassword"  onClick="UnitypasswordType(1);"><img src="/image/icon_yingcang.png" height="20" width="20"></div>
								<label id="pwdstr_unity_2" for="unity_password2" class="inputpwdlable" style="display:none; "><script>I18N("h","Wireless_Password_Optional");</script><!-- 请设置密码(选填) --></label>
							</div>
							</td>
						  </tr>
						  <tr id="unity_error_2" style="display:none;">
							<td>&nbsp;</td>
							<td class="errorinfo">
								<table>
									<tbody>
										<tr>
											<td>
												<div class="ic-sign ic"></div>
											</td>
											<td id="unity_errorinfo_2" style="line-height:20px;"></td>
										</tr>
									</tbody>
								</table>
							</td>
						  </tr>
							<tr id="passwdstrength_unity" style="display:none;">
								<td>&nbsp;</td>
									<td>
										<div class="ic-error ic" style="float:left; margin-top:12px;padding-top:0px;"></div>
										<div style="font-size:12px; float:left;color:#666666;">
											<span><script>I18N("h","Commom_Password_Strength");</script><!-- 密码安全强度:  --></span>
											<span id="padstrenght_unity"><script>I18N("h","Commom_Password_Weak");</script><!-- 弱 --></span>
										</div>
										<div style=" float:left; width:40px; background-color:#e9ecf1; height:6px;margin-left:8px; margin-top:18px;" id="pwdfirstId_unity"></div>
										<div style=" float:left; width:40px; background-color:#e9ecf1; height:6px; margin-left:4px;margin-top:18px;" id="pwdsecondId_unity"></div>
										<div style=" float:left; width:40px; background-color:#e9ecf1; height:6px;margin-left:4px;margin-top:18px;" id="pwdthirdId_unity"></div>
									</td>
							</tr>
						  </tbody>
					  </table>
					</div>					
					<div id="guest_content_2.4_5">
					<div align="left">
					 <div class="clearboth headerline2" align="left" style="padding-top:64px; padding-bottom:12px; "><script>I18N("h","Guestwireless_24G_Network");</script><!-- 2.4G无线访客网络 --></div>
					 <div class="clearboth moreline1"></div>
					  <table border="0" class="clearboth block" cellpadding="0" cellspacing="0" style="margin-top:48px;">
						<tbody>
						  <tr>
							<th>
							  <script>I18N("h","Wireless_Function");</script><!-- 无线功能 -->
							</th>
							<td class="tdcheckbox" style="width:400px;">
							   <div id="wlan_status" class="checkbox_off" onclick="wifienableclick()">
									<input type="checkbox" id="wifienable_24" name="wifienable_24" class="checkbox_on" >
								</div>				  
							</td>
						  </tr>
						  <tr class="space">
						  </tr>
						  <tr id="wireless_name_24">
							<th>
							  <script>I18N("h","Guestwireless_SSID");</script><!-- 访客网络名称 -->
							</th>
							<td>
							  <input type="text" id="wifiName_24" size="30" maxlength="32" name="wifiName_24" class="styled-text" onkeyup="check24GSSID();">
							</td>
						  </tr>
						  <tr id="error_3" style="display:none;">
							<td>&nbsp;</td>
							<td class="errorinfo">
								<table>
									<tbody>
										<tr>
											<td>
												<div class="ic-sign ic"></div>
											</td>
											<td id="errorinfo_3" style="line-height:20px;"></td>
										</tr>
									</tbody>
								</table>
							</td>
						  </tr>
						  <tr class="space">
						  </tr>
						  <tr id="wireless_passwd_24">
							<th>
							 <script>I18N("h","Guestwireless_Password");</script><!-- 访客网络密码 -->
							</th>
							<td>
							   <div id="div_password1_24" class="text_eye_div">
							   	 <input type="password" id="password1_24" size="30" maxlength="63" name="password1_24" class="text_eye_input hiddeneye" onkeyup="setPasswordStrength_2g(this.value);checkPassword24G(this.value);">
							   	 <div class="ui-input-rightimg_eye1" id="closepassword2" onClick="passwordType(0,'2G');"><img id="offline_ppp_eyehide_img" src="/image/icon_xianshi.png" height="20" width="20"></div>
							  	<label id="pwdstr24_1" for="password1_24" class="inputpwdlable" style="display:none; "><script>I18N("h","Wireless_Password_Optional");</script><!-- 请设置密码(选填) --></label>
							   </div>
							   <div id="div_password2_24" class="text_eye_div" style="display:none; ">
							    <input type="text" id="password2_24" size="30" maxlength="63" name="password2_24" class="text_eye_input hiddenclean" onkeyup="setPasswordStrength_2g(this.value);checkPassword24G(this.value);">
							    <div class="ui-input-rightimg_eye1" id="openpassword2"  onClick="passwordType(1,'2G');"><img id="offline_ppp_eyehide_img" src="/image/icon_yingcang.png" height="20" width="20"></div>
								<label id="pwdstr24_2" for="password2_24" class="inputpwdlable" style="display:none; "><script>I18N("h","Wireless_Password_Optional");</script><!-- 请设置密码(选填) --></label>
							</div>
							</td>
						  </tr>
						  <tr id="error_4" style="display:none;">
							<td>&nbsp;</td>
							<td class="errorinfo">
								<table>
									<tbody>
										<tr>
											<td>
												<div class="ic-sign ic"></div>
											</td>
											<td id="errorinfo_4" style="line-height:20px;"></td>
										</tr>
									</tbody>
								</table>
							</td>
						  </tr>
							<tr id="passwdstrength_2g" style="display:none;">
								<td>&nbsp;</td>
									<td>
										<div class="ic-error ic" style="float:left; margin-top:12px;padding-top:0px;"></div>
										<div style="font-size:12px; float:left;color:#666666;">
											<span><script>I18N("h","Commom_Password_Strength");</script><!-- 密码安全强度:  --></span>
											<span id="padstrenght_2g"><script>I18N("h","Commom_Password_Weak");</script><!-- 弱 --></span>
										</div>
										<div style=" float:left; width:40px; background-color:#e9ecf1; height:6px;margin-left:8px; margin-top:18px;" id="pwdfirstId_2g"></div>
										<div style=" float:left; width:40px; background-color:#e9ecf1; height:6px; margin-left:4px;margin-top:18px;" id="pwdsecondId_2g"></div>
										<div style=" float:left; width:40px; background-color:#e9ecf1; height:6px;margin-left:4px;margin-top:18px;" id="pwdthirdId_2g"></div>
									</td>
							</tr>
						  </tbody>
					  </table>
					</div>
					
					<div align="left">
					  <div style="padding-top:64px;padding-bottom:12px;" class="clearboth headerline2" align="left">
						<script>I18N("h","Guestwireless_5G_Network");</script><!-- 5G无线访客网络 -->
					  </div>
					   <div class="clearboth moreline1"></div>
					<table border="0" class="clearboth block" cellpadding="0" cellspacing="0" style="margin-top:48px;">
						<tbody>		
						  <tr>
							<th>
							  <script>I18N("h","Wireless_Function");</script><!-- 无线功能 -->
							</th>
							<td class="tdcheckbox" style="width:400px;">
							   <div id="wlan5_statue" class="checkbox_off" onclick="wifienableclick5g()">
									<input type="checkbox" id="wifienable_5" name="wifienable_5" class="checkbox_on" >
								</div>				  
							</td>
						  </tr>
						  <tr class="space">
						  </tr>
						  <tr id="wireless_name_5">
							<th>
							 <script>I18N("h","Guestwireless_SSID");</script><!-- 访客网络名称 -->
							</th>
							<td>
							  <input type="text" id="wifiName_5" size="30" maxlength="32" name="wifiName_5" class="styled-text" onkeyup="check5GSSID()">
							</td>
						  </tr>
						  <tr id="error_5" style="display:none;">
							<td>&nbsp;</td>
							<td class="errorinfo">
								<table>
									<tbody>
										<tr>
											<td>
												<div class="ic-sign ic"></div>
											</td>
											<td id="errorinfo_5" style="line-height:20px;"></td>
										</tr>
									</tbody>
								</table>
							</td>
						  </tr>
						  <tr class="space">
						  </tr>
						  <tr id="wireless_passwd_5">
							<th>
							 <script>I18N("h","Guestwireless_Password");</script><!-- 访客网络密码 -->
							</th>
							<td>
							   <div id="div_password1_5" class="text_eye_div">
								 <input type="password" id="password1_5" size="30" maxlength="63" name="password1_5" class="text_eye_input hiddeneye" onkeyup="setPasswordStrength_5g(this.value);checkPassword5G(this.value);">
								 <div class="ui-input-rightimg_eye1" id="closepassword5" onClick="passwordType(0,'5G');"><img  id="offline_ppp_eyehide_img5" src="/image/icon_xianshi.png" height="20" width="20"></div>
								<label id="pwdstr5_1" for="password1_5" class="inputpwdlable" style="display:none; "><script>I18N("h","Wireless_Password_Optional");</script><!-- 请设置密码(选填) --></label>
							  </div>
							 <div id="div_password2_5" class="text_eye_div" style="display:none; ">
							  <input type="text" id="password2_5" size="30" maxlength="63" name="password2_5" class="text_eye_input hiddenclean" onkeyup="setPasswordStrength_5g(this.value);checkPassword5G(this.value);">
							  <div class="ui-input-rightimg_eye1" id="openpassword5" onClick="passwordType(1,'5G');"><img  id="offline_ppp_eyehide_img5" src="/image/icon_yingcang.png" height="20" width="20"></div>
							 <label id="pwdstr5_2" for="password2_5" class="inputpwdlable"><script>I18N("h","Wireless_Password_Optional");</script><!-- 请设置密码(选填) --></label>
							</div>
							</td>
						  </tr>
						  <tr id="error_6" style="display:none;">
							<td>&nbsp;</td>
							<td class="errorinfo">
								<table>
									<tbody>
										<tr>
											<td>
												<div class="ic-sign ic"></div>
											</td>
											<td id="errorinfo_6" style="line-height:20px;"></td>
										</tr>
									</tbody>
								</table>
							</td>
						  </tr>
							<tr id="passwdstrength_5g" style="display:none;">
								<td>&nbsp;</td>
									<td>
										<div class="ic-error ic" style="float:left; margin-top:12px;padding-top:0px;"></div>
										<div style="font-size:12px; float:left;color:#666666;">
											<span><script>I18N("h","Commom_Password_Strength");</script><!-- 密码安全强度:  --></span>
											<span id="padstrenght_5g"><script>I18N("h","Commom_Password_Weak");</script><!-- 弱 --></span>
										</div>
										<div style=" float:left; width:40px; background-color:#e9ecf1; height:6px;margin-left:8px; margin-top:18px;" id="pwdfirstId_5g"></div>
										<div style=" float:left; width:40px; background-color:#e9ecf1; height:6px; margin-left:4px;margin-top:18px;" id="pwdsecondId_5g"></div>
										<div style=" float:left; width:40px; background-color:#e9ecf1; height:6px;margin-left:4px;margin-top:18px;" id="pwdthirdId_5g"></div>
									</td>
							</tr>
						  </tbody>
					  </table>
					</div>
					</div>
					
					 <table style="margin-left:130px; margin-top:36px;" class="clearboth" align="left" >
						<tr>
							<td><input type="button" value="" id="savebutton" class="styled_button_s" disabled onClick="BtnSaveClick();"></td>
						</tr>
					</table>					
				</div>
				</div><!--end right_content -->
			</div>
	   </div>
 	   <div class="footer_placeholder"></div>  
   </div>
   <div style=" display:none;" id="createPop_ConfigSave" class="createPopRecovery">
		<div id="div_save_guestwifi" class="dialogBoxBackup">
			<div class="advance_rowBackup">
				<span><script>I18N("h","Guestwireless_Save_Settings");</script><!-- 保存访客网络设置 --></span>
			</div>
			<div class="descriptionBackup"><span><script>I18N("h","Guestwireless_Tips");</script><!-- 您确认要保存当前设置吗？无线网络连接可能会断开重连。 --></span></div>
			<div class="advance_rowBackup" style="margin:0px"></div>
			<div align="center" style="margin-bottom:48px;margin-top:24px">
				<!-- <input type="button" value="确认" class="styled_button_ss" style="margin-left:45px;" onClick="SaveConfirm();">
				<input type="button" value="取消" class="styled_button_ss" style="margin-left:18px;margin-right:45px;" onClick="SaveCancel();"> -->
				<input type="button" id="btn_save_cancel" value="" class="styled_button_ss" style="margin-left:45px;" onClick="SaveCancel();">
				<input type="button" id="btn_save_confirm" value="" class="styled_button_ss" style="margin-left:18px;margin-right:45px;" onClick="SaveConfirm();">
			</div>
		</div>
	</div>
	<div style=" display:none;" id="createPop_GuestSave" class="createPopRecovery">
		<div id="div_close_guestwifi" class="dialogBoxBackup">
			<div class="advance_rowBackup">
				<span><script>I18N("h","Guestwireless_Close");</script><!-- 关闭无线访客网络 --></span>
			</div>
			<div class="descriptionBackup"><span><script>I18N("h","Guestwireless_Close_Comfirm");</script><!-- 您确认要关闭无线访客网络吗？无线访客设备会断开连接。 --></span></div>
			<div class="advance_rowBackup" style="margin:0px"></div>
			<div align="center" style="margin-bottom:48px;margin-top:24px;margin-left:45px;margin-right:45px;">
				<!-- <input type="button" value="确认" class="styled_button_ss" style="margin-left:45px;" onClick="CloseGuestConfirm();">
				<input type="button" value="取消" class="styled_button_ss" style="margin-left:18px;margin-right:45px;" onClick="CloseGuestCancel();"> -->
				<div id="div_clowifyconfirm2g" style="display:none;">
					<input type="button" id="btn_closewifi_cancel" value="" class="styled_button_ss" style="" onClick="CloseGuestCancel();">
					<input type="button" id="btn_closewifi_confirm" value="" class="styled_button_ss" style="margin-left:18px;" onClick="CloseGuestConfirm();">
				</div>
				<div id="div_clowifyconfirm5g" style="display:none;">
					<input type="button" value="" class="styled_button_ss" style="" onClick="CloseGuestCancel();" id="btn_closewifi5g_cancel">
					<input type="button" value="" class="styled_button_ss" style="margin-left:18px;"  onClick="CloseWifiConfirm5G();" id="btn_closewifi5g_confirm" >
				</div>
			</div>
		</div>
	</div>
	<div id="MessageWifiFinish" style="display:none;" class="CreateTransparentBg">
	  <div class="AlertPopRect">
		  <div style="margin-left:30px;font-size:14px;color:#82878d;">
			<table style="height:126px;width:390px;" align="center">
			  <tbody>
				<tr align="center">
				  <td id="saveResultInfo">
					<script>I18N("h","Wireless_Set_Done");</script><!-- 设置更改完成。 -->
				  </td>
				</tr>
			  </tbody>
			</table>
		</div>
	  </div>
	</div>
	<div id="footer"></div>
	<div id="CreatePopAlertMessage" style=" display:none;"></div>
	<div style=" display:none;" id="DetectRouterConnection"></div>
	<div id="CreateOnloadMessage" style="display:none;"><div class="OnLoadPopRect"><img src="/image/submit.gif" width="58" height="58"></div></div>
</body>
<script type="text/javascript">
Initial();
</script>
</html>
