

<h1 class="phoneTitle">无线设置</h1>
<div class="WDSThBlock">
	<ul class="switchBSUl">
		<p class="titleBS ib bold">多频合一</p>
		<div id="switchCon">
			<img id="switchOn" src="../web-static/images/switchOn.png" />
			<img id="switchOff" src="../web-static/images/switchOff.png" />
		</div>
		<p class="phBSTip">2.4G和5G无线网络使用相同的无线名称和密码，在终端连接Wi-Fi时，路由器会根据网络情况自动为终端选择最佳上网频段。</p>
	</ul>
	<p class="ctxBS phBSTip">2.4G和5G无线网络使用相同的无线名称和密码，在终端连接Wi-Fi时，路由器会根据网络情况自动为终端选择最佳上网频段。</p>
	<div class="openBS">
		<ul class="phInputUl">
			<p class="titleTip">无线设置</p>
			<li class="phInputLi">
				<label for="wirelessNameBS">Wi-Fi名称</label>
				<i class="clapboard"></i>
				<input id="wirelessNameBS" maxlength="63" />
			</li>
			<li id="wzdWirelessNameNoteBS" class="phErrTip disNone">
				<span class="errDes"></span>
			</li>
		</ul>
		<ul class="phInputUl">
			<li class="phInputLi">
				<label for="wirelessPwdBS">Wi-Fi密码</label>
				<i class="clapboard"></i>
				<input id="wirelessPwdBS" maxlength="63" type="password" />
				<i id="togglePwdShowBS" class="pwdShowOff"></i>
			</li>
			<li id="wzdWirelessPwdNoteBS" class="phErrTip disNone">
				<span class="errDes"></span>
			</li>
		</ul>
	</div>
	<div class="closeBS">
		<ul class="phInputUl input2G">
			<p class="titleTip">2.4G无线设置</p>
			<li class="phInputLi">
				<label for="wirelessName2G">Wi-Fi名称</label>
				<i class="clapboard"></i>
				<input id="wirelessName2G" maxlength="63" />
			</li>
			<li id="wzdWirelessNameNote2G" class="phErrTip disNone">
				<span class="errDes"></span>
			</li>
		</ul>
		<ul class="phInputUl input2G">
			<li class="phInputLi">
				<label for="wirelessPwd2G">Wi-Fi密码</label>
				<i class="clapboard"></i>
				<input id="wirelessPwd2G" maxlength="63" type="password" />
				<i id="togglePwdShow2G" class="pwdShowOff"></i>
			</li>
			<li id="wzdWirelessPwdNote2G" class="phErrTip disNone">
				<span class="errDes"></span>
			</li>
		</ul>
		<ul class="phInputUl input5G input2Band">
			<p class="titleTip">5G无线设置</p>
			<li class="phInputLi">
				<label for="wirelessName5G">Wi-Fi名称</label>
				<i class="clapboard"></i>
				<input id="wirelessName5G" maxlength="63" />
			</li>
			<li id="wzdWirelessNameNote5G" class="phErrTip disNone">
				<span class="errDes"></span>
			</li>
		</ul>
		<ul class="phInputUl input5G input2Band">
			<li class="phInputLi">
				<label for="wirelessPwd5G">Wi-Fi密码</label>
				<i class="clapboard"></i>
				<input id="wirelessPwd5G" maxlength="63" type="password" />
				<i id="togglePwdShow5G" class="pwdShowOff"></i>
			</li>
			<li id="wzdWirelessPwdNote5G" class="phErrTip disNone">
				<span class="errDes"></span>
			</li>
		</ul>
		<ul class="phInputUl input5G1 input3Band">
			<p class="titleTip">5G1无线设置</p>
			<li class="phInputLi">
				<label for="wirelessName5G1">Wi-Fi名称</label>
				<i class="clapboard"></i>
				<input id="wirelessName5G1" maxlength="63" />
			</li>
			<li id="wzdWirelessNameNote5G1" class="phErrTip disNone">
				<span class="errDes"></span>
			</li>
		</ul>
		<ul class="phInputUl input5G1 input3Band">
			<li class="phInputLi">
				<label for="wirelessPwd5G1">Wi-Fi密码</label>
				<i class="clapboard"></i>
				<input id="wirelessPwd5G1" maxlength="63" type="password" />
				<i id="togglePwdShow5G1" class="pwdShowOff"></i>
			</li>
			<li id="wzdWirelessPwdNote5G1" class="phErrTip disNone">
				<span class="errDes"></span>
			</li>
		</ul>
		<ul class="phInputUl input5G2 input3Band">
			<p class="titleTip">5G2无线设置</p>
			<li class="phInputLi">
				<label for="wirelessName5G2">Wi-Fi名称</label>
				<i class="clapboard"></i>
				<input id="wirelessName5G2" maxlength="63" />
			</li>
			<li id="wzdWirelessNameNote5G2" class="phErrTip disNone">
				<span class="errDes"></span>
			</li>
		</ul>
		<ul class="phInputUl input5G2 input3Band">
			<li class="phInputLi">
				<label for="wirelessPwd5G2">Wi-Fi密码</label>
				<i class="clapboard"></i>
				<input id="wirelessPwd5G2" maxlength="63" type="password" />
				<i id="togglePwdShow5G2" class="pwdShowOff"></i>

			</li>
			<li id="wzdWirelessPwdNote5G2" class="phErrTip disNone">
				<span class="errDes"></span>
			</li>
		</ul>
	</div>
</div>
<div class="phFunc">
	<label id="pre" class="phTwoBtnL">{%btn.preStep%}</label>
	<label id="next" class="phTwoBtnR">{%btn.nextStep%}</label>
</div><script type="text/javascript">var gWireRepeaterCfg={},FREQ_2G=0,FREQ_5G=1,FREQ_5G1=2,FREQ_5G4=3,FREQ_BS=4;gWireRepeaterCfg[FREQ_2G]={ssid:"",encryption:"",key:""};gWireRepeaterCfg[FREQ_5G]={ssid:"",encryption:"",key:""};gWireRepeaterCfg[FREQ_5G1]={ssid:"",encryption:"",key:""};gWireRepeaterCfg[FREQ_5G4]={ssid:"",encryption:"",key:""};gWireRepeaterCfg[FREQ_BS]={ssid:"",encryption:"",key:"",bs_enable:""};
function init(){function t(a){var b=id("wirelessName"+a).value,d=id("wirelessPwd"+a).value,k={};u("wirelessName"+a,"wzdWirelessNameNote"+a);u("wirelessPwd"+a,"wzdWirelessPwdNote"+a);var c;c=0==b.length?EINVSSIDNULL:0==b.replace(/\s/g,"").length?EINVSSIDBLANK:checkWifiName(b,32,1)?ENONE:EINVSSIDLEN;if(p(c,"wirelessName"+a,"wzdWirelessNameNote"+a)||p(checkWlanPwd(d),"wirelessPwd"+a,"wzdWirelessPwdNote"+a))return!1;k.ssid=b;k.key=d;k.encryption=""==d?0:1;"BS"==a&&(k.bs_enable="1");return k}function l(a,
b,d){$('label[for="'+a+'"]').css("color","#FF3D00");id(b).style.display="block";$("#"+b+" span").html(d)}function u(a,b){$('label[for="'+a+'"]').css("color","#666666");id(b).style.display="none"}function x(){var a,b={wireless:{}};if(m){a=t("BS");if(!1==a)return;gWireRepeaterCfg[FREQ_BS]=a;b.wireless.wlan_bs=a;gOpenBS=!0}else{for(var d=0;d<f.length;++d){a=t(h[f[d]]);if(!1==a)return;gWireRepeaterCfg[f[d]]=a;b.wireless[c[slp.bandsProvided-1].wlan_host[f[d]]]=a}gWireRepeaterCfg[FREQ_BS].bs_enable="0";
b.wireless.wlan_bs={bs_enable:"0"};gOpenBS=!1}gWifiCfgToSave=b;a={};a.system={sys_mode:{mode:uciSystem.optValue.sysMode.apMode}};switch(slp.bandsProvided-1){case n:a.wireless={wlan_wds_2g:{enable:"0"}};break;case g:a.wireless={wlan_wds_2g:{enable:"0"},wlan_wds_5g:{enable:"0"}};break;case e:a.wireless={wlan_wds_2g:{enable:"0"},wlan_wds_5g_1:{enable:"0"},wlan_wds_5g_4:{enable:"0"}}}$.modify(a,function(a){!1==p(a[ERR_CODE])&&(gSysMode=uciSystem.optValue.sysMode.apMode,q=0,showLoading(),r())})}function v(){showPhConfirm("连接失败，请确定是否重试？",
function(a){a?(q=0,showLoading(),r()):slp.g11AXSupport.wlan2g||slp.g11AXSupport.wlan5g?loadPage("PhoneWizardWirelessAx.htm","phCon"):$.modify(gWifiCfgToSave,function(){loadPage("PhoneWireRepeaterEnd.htm","phCon")})},"重试","下一步")}function r(){clearTimeout(s);20<q?(closeLoading(),v()):$.query({wired_extender:{name:"status"}},function(a){!1==p(a[ERR_CODE])?"0.0.0.0"==a.wired_extender.status.ip?(q++,s=$.setTimeout(r,1E3)):(closeLoading(),gLanIP=a.wired_extender.status.ip,slp.g11AXSupport.wlan2g||slp.g11AXSupport.wlan5g?
loadPage("PhoneWizardWirelessAx.htm","phCon"):loadPage("PhoneWireRepeaterEnd.htm","phCon")):(closeLoading(),v())})}function p(a,b,d){switch(a){case ENONE:return!1;case EWLANPWDBLANK:return!1;case EINVSSIDNULL:l(b,d,errStr.wlanSsidErr);break;case EINVSSIDBLANK:l(b,d,errStr.wlanSsidBlank);break;case EINVSSIDLEN:l(b,d,errStr.wlanSsidLenErr);break;case EINVWLANPWD:l(b,d,errStr.wlanPwdInvalid);break;case EINVPSKLEN:l(b,d,errStr.wlanPwdLenValid);break;default:showPhWzdAlert(errStr.invRequestFail)}return!0}
function y(a){var b="#togglePwdShow"+a;$(b).click(function(){$(b).toggleClass("pwdShowOff pwdShowOn");id("wirelessPwd"+a).type="pwdShowOff"==$(b).attr("class")?"password":"text"})}var s=null,q,f=[],m=!1,h=["2G","5G","5G1","5G2","BS"],n=0,g=1,e=2,c=[];c[n]={};c[g]={};c[e]={};c[n].wlan_host=[];c[g].wlan_host=[];c[e].wlan_host=[];c[n].wlan_host[FREQ_2G]="wlan_host_2g";c[g].wlan_host[FREQ_2G]="wlan_host_2g";c[g].wlan_host[FREQ_5G]="wlan_host_5g";c[e].wlan_host[FREQ_2G]="wlan_host_2g";c[e].wlan_host[FREQ_5G1]=
"wlan_host_5g_1";c[e].wlan_host[FREQ_5G4]="wlan_host_5g_4";switch(slp.bandsProvided-1){case n:f=[FREQ_2G];break;case g:f=[FREQ_2G,FREQ_5G];break;case e:f=[FREQ_2G,FREQ_5G1,FREQ_5G4]}(function(){var a={wireless:{name:[]},network:{name:["lan"]}},b;for(b in c[slp.bandsProvided-1])c[slp.bandsProvided-1].hasOwnProperty(b)&&$.each(c[slp.bandsProvided-1][b],function(b,c){null!=c&&a.wireless.name.push(c)});slp.bandSteeringProvided&&a.wireless.name.push("wlan_bs");$.query(a,function(a){gLanIP=a.network.lan.ipaddr;
$.each(c[slp.bandsProvided-1].wlan_host,function(b,c){null!=c&&(gWireRepeaterCfg[b].ssid=a.wireless[c].ssid,gWireRepeaterCfg[b].encryption=parseInt(a.wireless[c].encryption)?1:0,gWireRepeaterCfg[b].key=a.wireless[c].key,id("wirelessName"+h[b]).value=gWireRepeaterCfg[b].ssid,id("wirelessPwd"+h[b]).value=gWireRepeaterCfg[b].encryption==uciWireless.dynOptValue.encryption.on?gWireRepeaterCfg[b].key:"");slp.bandSteeringProvided&&(gWireRepeaterCfg[FREQ_BS].bs_enable=a.wireless.wlan_bs.bs_enable,gWireRepeaterCfg[FREQ_BS].ssid=
a.wireless.wlan_bs.ssid,gWireRepeaterCfg[FREQ_BS].encryption=parseInt(a.wireless.wlan_bs.encryption)?1:0,gWireRepeaterCfg[FREQ_BS].key=a.wireless.wlan_bs.key,id("wirelessNameBS").value=gWireRepeaterCfg[FREQ_BS].ssid,id("wirelessPwdBS").value=gWireRepeaterCfg[FREQ_BS].encryption==uciWireless.dynOptValue.encryption.on?gWireRepeaterCfg[FREQ_BS].key:"")})})})();id("pre").onclick=function(){clearTimeout(s);loadPage("PhoneWiredRepeaterWeb.htm","phCon")};id("next").onclick=function(){x()};$("#switchCon").click(function(){m?
(m=!1,$("#switchOff").show(),$("#switchOn").hide()):(m=!0,$("#switchOff").hide(),$("#switchOn").show());var a=m,b=$("#switchBS").children(":first-child");a?(b.attr("class","switchBg"),$(".openBS").show(),$(".closeBS").hide()):(b.attr("class","switchBgOff"),$(".openBS").hide(),$(".closeBS").show(),slp.bandsProvided-1==e?$(".input3Band").show():slp.bandsProvided-1==g&&$(".input2Band").show())});$("#switchCon").click();for(var w in h)h.hasOwnProperty(w)&&y(h[w])}init();
</script><style type="text/css">p.WDSTitle{width:280px;margin:16px auto;color:#666;font-size:14px;text-align:left}.phInputUl p{color:#666;font-size:14px;text-align:left}.phInputUl .titleTip{font-size:14px;font-weight:bold;margin-bottom:8px}li.phInputLi input{box-sizing:border-box}.ib{display:inline-block}#switchBS{font-size:14px;line-height:20px;float:right}.input5G{display:none}.input5G1{display:none}.input5G2{display:none}.bold{font-weight:bold}ul.switchBSUl{margin:0 auto;width:280px;height:46px;border-bottom:solid 1px rgba(255,255,255,0.4)}ul.switchBSUl p.titleBS{line-height:42px;font-size:14px;color:#666;vertical-align:middle}ul.switchBSUl div{display:inline-block;vertical-align:middle}#switchCon{float:right}#switchCon img{width:61px;height:46px}p.ctxBS{font-size:14px;color:#666;margin:8px auto 40px;width:280px;margin-top:8px}li.phErrTip span.errDes{line-height:16px}</style>