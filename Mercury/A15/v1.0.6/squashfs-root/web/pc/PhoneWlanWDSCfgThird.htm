

<h1 class="phoneTitle">无线设置</h1>
<div class="WDSThBlock">
	<p class="WDSTitle">请设置本路由器的Wi-Fi名称和密码（推荐与前端路由保持一致，实现无缝漫游）</p>
	<ul class="switchBSUl">
		<p class="titleBS ib bold">多频合一</p>
		<div id="switchCon">
			<img id="switchOn" src="../web-static/images/switchOn.png" />
			<img id="switchOff" src="../web-static/images/switchOff.png" />
		</div>
		<p class="phBSTip">2.4G和5G无线网络使用相同的无线名称和密码，在终端连接Wi-Fi时，路由器会根据网络情况自动为终端选择最佳上网频段。</p>
	</ul>
	<p class="ctxBS phBSTip">2.4G和5G无线网络使用相同的无线名称和密码，在终端连接Wi-Fi时，路由器会根据网络情况自动为终端选择最佳上网频段。</p>
	<div class="openBS">
		<ul class="phInputUl">
			<p class="titleTip">无线设置</p>
			<li class="phInputLi">
				<label for="wlanNameBS">Wi-Fi名称</label>
				<i class="clapboard"></i>
				<input id="wlanNameBS" maxlength="63" />
			</li>
			<li id="wlanNameNoteBS" class="phErrTip disNone">
				<span class="errDes"></span>
			</li>
		</ul>
		<ul class="phInputUl">
			<li class="phInputLi">
				<label for="wlanPwdBS">Wi-Fi密码</label>
				<i class="clapboard"></i>
				<input id="wlanPwdBS" maxlength="63" type="password" />
				<i id="togglePwdShowBS" class="pwdShowOff"></i>
			</li>
			<li id="wlanPwdNoteBS" class="phErrTip disNone">
				<span class="errDes"></span>
			</li>
		</ul>
	</div>
	<div class="closeBS">
		<ul class="phInputUl input2G">
			<p class="titleTip">2.4G无线设置</p>
			<li class="phInputLi">
				<label for="wlanName2G">Wi-Fi名称</label>
				<i class="clapboard"></i>
				<input id="wlanName2G" maxlength="63" />
			</li>
			<li id="wlanNameNote2G" class="phErrTip disNone">
				<span class="errDes"></span>
			</li>
		</ul>
		<ul class="phInputUl input2G">
			<li class="phInputLi">
				<label for="wlanPwd2G">Wi-Fi密码</label>
				<i class="clapboard"></i>
				<input id="wlanPwd2G" maxlength="63" type="password" />
				<i id="togglePwdShow2G" class="pwdShowOff"></i>
			</li>
			<li id="wlanPwdNote2G" class="phErrTip disNone">
				<span class="errDes"></span>
			</li>
		</ul>
		<ul class="phInputUl input5G">
			<p class="titleTip">5G无线设置</p>
			<li class="phInputLi">
				<label for="wlanName5G">Wi-Fi名称</label>
				<i class="clapboard"></i>
				<input id="wlanName5G" maxlength="63" />
			</li>
			<li id="wlanNameNote5G" class="phErrTip disNone">
				<span class="errDes"></span>
			</li>
		</ul>
		<ul class="phInputUl input5G">
			<li class="phInputLi">
				<label for="wlanPwd5G">Wi-Fi密码</label>
				<i class="clapboard"></i>
				<input id="wlanPwd5G" maxlength="63" type="password" />
				<i id="togglePwdShow5G" class="pwdShowOff"></i>
			</li>
			<li id="wlanPwdNote5G" class="phErrTip disNone">
				<span class="errDes"></span>
			</li>
		</ul>
		<ul class="phInputUl input5G1">
			<p class="titleTip">5G1无线设置</p>
			<li class="phInputLi">
				<label for="wlanName5G1">Wi-Fi名称</label>
				<i class="clapboard"></i>
				<input id="wlanName5G1" maxlength="63" />
			</li>
			<li id="wlanNameNote5G1" class="phErrTip disNone">
				<span class="errDes"></span>
			</li>
		</ul>
		<ul class="phInputUl input5G1">
			<li class="phInputLi">
				<label for="wlanPwd5G1">Wi-Fi密码</label>
				<i class="clapboard"></i>
				<input id="wlanPwd5G1" maxlength="63" type="password" />
				<i id="togglePwdShow5G1" class="pwdShowOff"></i>
			</li>
			<li id="wlanPwdNote5G1" class="phErrTip disNone">
				<span class="errDes"></span>
			</li>
		</ul>
		<ul class="phInputUl input5G2">
			<p class="titleTip">5G2无线设置</p>
			<li class="phInputLi">
				<label for="wlanName5G2">Wi-Fi名称</label>
				<i class="clapboard"></i>
				<input id="wlanName5G2" maxlength="63" />
			</li>
			<li id="wlanNameNote5G2" class="phErrTip disNone">
				<span class="errDes"></span>
			</li>
		</ul>
		<ul class="phInputUl input5G2">
			<li class="phInputLi">
				<label for="wlanPwd5G2">Wi-Fi密码</label>
				<i class="clapboard"></i>
				<input id="wlanPwd5G2" maxlength="63" type="password" />
				<i id="togglePwdShow5G2" class="pwdShowOff"></i>

			</li>
			<li id="wlanPwdNote5G2" class="phErrTip disNone">
				<span class="errDes"></span>
			</li>
		</ul>
	</div>
</div>
<div class="phFunc">
	<label id="pre" class="phTwoBtnL">{%btn.preStep%}</label>
	<label id="next" class="phTwoBtnR">{%btn.nextStep%}</label>
</div><script type="text/javascript">function init(){function g(a,c,b){switch(a){case ENONE:return!1;case EWLANPWDBLANK:return!1;case EINVSSIDNULL:showPhoneNote(c,b,"请输入无线名称");break;case EINVSSIDBLANK:showPhoneNote(c,b,"无线名称不能全为空格，请重新输入");break;case EINVSSIDLEN:showPhoneNote(c,b,"无线名称超过合法长度，请重新输入");break;case EINVWLANPWD:showPhoneNote(c,b,"无线密码中存在非法字符，请输入数字、字母或符号");break;case EINVPSKLEN:showPhoneNote(c,b,"无线密码长度错误，请输入8至63个字符");break;default:showPhWzdAlert(errStr.invRequestFail)}return!0}function k(a){var c=id("wlanName"+a).value,b=id("wlanPwd"+
a).value,d={};closePhoneNote("wlanName"+a,"wlanNameNote"+a);if(g(checkWlanName(c),"wlanName"+a,"wlanNameNote"+a)||g(checkWlanPwd(b),"wlanPwd"+a,"wlanPwdNote"+a))return!1;d.ssid=c;d.key=b;d.encryption=""==b?0:1;return d}function l(a){var c="#togglePwdShow"+a;$(c).click(function(){$(c).toggleClass("pwdShowOff pwdShowOn");id("wlanPwd"+a).type="pwdShowOff"==$(c).attr("class")?"password":"text"})}var f=!0,d=["2G","5G","5G1","5G2","BS"],m=[FREQ_2G,FREQ_5G],n=[FREQ_2G,FREQ_5G1,FREQ_5G4];$("#next").click(function(){var a=
{lan:{ipaddr:gLanIP,ip_mode:"dynamic",netmask:gLanMask}},c={},b;gLocalAPInfo[FREQ_BS].bs_enable=f?"1":"0";if(slp.bandSteeringProvided&&"1"==gLocalAPInfo[FREQ_BS].bs_enable){b=k("BS");if(!1==b)return;gLocalAPInfo[FREQ_BS].ssid=b.ssid;gLocalAPInfo[FREQ_BS].key=b.key;gLocalAPInfo[FREQ_BS].encryption=b.encryption;c.wlan_bs={bs_enable:f?"1":"0",ssid:gLocalAPInfo[FREQ_BS].ssid,key:gLocalAPInfo[FREQ_BS].key,encryption:gLocalAPInfo[FREQ_BS].encryption}}else{for(var g=slp.bandsProvided-1==BAND_3?n:m,h=0;h<
g.length;h++){var e=g[h];b=k(d[e]);if(!1==b)return;gLocalAPInfo[e].ssid=b.ssid;gLocalAPInfo[e].key=b.key;gLocalAPInfo[e].encryption=b.encryption;c[gKeyNames[slp.bandsProvided-1].wlan_host[e]]={ssid:gLocalAPInfo[e].ssid,key:gLocalAPInfo[e].key,encryption:gLocalAPInfo[e].encryption}}c.wlan_bs={bs_enable:"0"}}b={};b.network=a;b.dhcpd={udhcpd:{enable:"0",auto:"1"}};b.wireless=c;gWifiCfgToSave=b;gSysMode=uciSystem.optValue.sysMode.wdsMode;slp.g11AXSupport.wlan2g||slp.g11AXSupport.wlan5g||slp.g11AXSupport.wlan5g1||
slp.g11AXSupport.wlan5g4?loadPage("PhoneWizardWirelessAx.htm","phCon"):$.modify({system:{sys_mode:{mode:gSysMode}}},function(a){!0==errHandle(a[ERR_CODE])&&$.modify(gWifiCfgToSave,function(a){!0==errHandle(a[ERR_CODE])&&loadPage("PhoneWlanWDSCfgEnd.htm","phCon")})})});$("#pre").click(function(){backFromNextPage=!0;gWDSPwdErrList=[];loadPage("PhoneWlanWDSCfgSecond.htm","phCon")});for(var a in d)d.hasOwnProperty(a)&&l(d[a]);slp.bandsProvided-1==BAND_3&&$(".phBSTip").html(label.phBS3BandTip);$("#switchCon").click(function(){f?
(f=!1,$("#switchOff").show(),$("#switchOn").hide()):(f=!0,$("#switchOff").hide(),$("#switchOn").show());var a=f,c=$("#switchBS").children(":first-child");a?(c.attr("class","switchBg"),$(".openBS").show(),$(".closeBS").hide()):(c.attr("class","switchBgOff"),$(".openBS").hide(),$(".closeBS").show(),slp.bandsProvided-1==BAND_3&&($(".input5G1").show(),$(".input5G2").show()),slp.bandsProvided-1==BAND_2&&$(".input5G").show())});f="1"==!gLocalAPInfo[FREQ_BS].bs_enable;$("#switchCon").click();for(a=0;a<FREQ_BS;a++)"undefined"!=
typeof wdsTargetSelFreq[a]&&wdsTargetSelFreq[a].selected&&2==wdsTargetSelFreq[a].status?($("#wlanName"+d[a]).val(gRootAPInfo[a].ssid),$("#wlanPwd"+d[a]).val(gRootAPInfo[a].key)):($("#wlanName"+d[a]).val(gLocalAPInfo[a].ssid),$("#wlanPwd"+d[a]).val(gLocalAPInfo[a].key));if(slp.bandSteeringProvided)for(a in wdsTargetSelFreq){if(wdsTargetSelFreq[a].selected&&2==wdsTargetSelFreq[a].status){$("#wlanNameBS").val(gRootAPInfo[a].ssid);$("#wlanPwdBS").val(gRootAPInfo[a].key);break}}else $(".switchBSUl").hide()}
init();
</script><style type="text/css">p.WDSTitle{width:280px;margin:16px auto;color:#666;font-size:14px;text-align:left}.phInputUl p{color:#666;font-size:14px;text-align:left}.phInputUl .titleTip{font-size:14px;font-weight:bold;margin-bottom:8px}li.phInputLi input{box-sizing:border-box}.ib{display:inline-block}#switchBS{font-size:14px;line-height:20px;float:right}.input5G{display:none}.input5G1{display:none}.input5G2{display:none}.bold{font-weight:bold}ul.switchBSUl{margin:0 auto;width:280px;height:46px;border-bottom:solid 1px rgba(255,255,255,0.4)}ul.switchBSUl p.titleBS{line-height:42px;font-size:14px;color:#666;vertical-align:middle}ul.switchBSUl div{display:inline-block;vertical-align:middle}#switchCon{float:right}#switchCon img{width:61px;height:46px}p.ctxBS{font-size:14px;color:#666;margin:8px auto 40px;width:280px;margin-top:8px}li.phErrTip span.errDes{line-height:16px}</style>